{"version":3,"sources":["../node_modules/@material-ui/icons/Mail.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","pages/Newsletters/styles.js","pages/Newsletters/index.js"],"names":["_interopRequireDefault","__webpack_require__","Object","defineProperty","exports","value","default","_react","_default","createElement","Fragment","d","fill","_toConsumableArray","arr","Array","isArray","i","arr2","length","_arrayWithoutHoles","iter","Symbol","iterator","prototype","toString","call","from","_iterableToArray","TypeError","_nonIterableSpread","styles","theme","empty","marginTop","icon","width","height","border","borderRadius","layout","maxHeight","breakpoints","up","containerWidth","spacing","unit","marginLeft","marginRight","padding","defaultState","newsletters","selected","isCheckedAll","loading","Newsletters","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","loadNewsletters","asyncToGenerator","regenerator_default","a","mark","_callee","newsSelected","wrap","_context","prev","next","setState","Storage","get","sent","_","size","t0","stop","onToggleNewsletter","_ref2","_callee2","newsletterId","isChecked","_context2","state","push","reject","s","Set","set","_x","_x2","apply","arguments","onToggleAll","_callee3","_this$state","_context3","map","n","id","onBackButtonClick","history","_this2","_this$props","classes","mainColor","_this$state2","react_default","Header","title","backButton","className","Loading","List_default","component","ListItem_default","button","onClick","ListItemIcon_default","Mail_default","fontSize","ListItemText_default","primary","ListItemSecondaryAction_default","Switch_default","color","checked","onChange","includes","key","src","require","concat","alt","name","Grid_default","container","direction","justify","alignItems","Web_default","Typography_default","variant","PureComponent","withStyles","withTheme"],"mappings":"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","file":"static/js/10.d2ec2fea.chunk.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(_react.default.Fragment, null, _react.default.createElement(\"path\", {\n  d: \"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z\"\n}), _react.default.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0z\"\n})), 'Mail');\n\nexports.default = _default;","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","const styles = theme => ({\n  empty: {\n    marginTop: 175\n  },\n  icon: {\n    width: 32,\n    height: 32,\n    border: '1px solid #AAA',\n    borderRadius: 2\n  },\n  layout: {\n    width: 'auto',\n    height: '100%',\n    maxHeight: '100%',\n    marginTop: 70,\n    [theme.breakpoints.up(theme.containerWidth + theme.spacing.unit * 3 * 2)]: {\n      width: theme.containerWidth,\n      marginLeft: 'auto',\n      marginRight: 'auto',\n      padding: 0\n    }\n  }\n});\n\nexport default styles;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport _ from 'lodash';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport Switch from '@material-ui/core/Switch';\nimport Grid from '@material-ui/core/Grid';\nimport WebIcon from '@material-ui/icons/Web';\nimport MailIcon from '@material-ui/icons/Mail';\nimport Typography from '@material-ui/core/Typography';\nimport { withStyles } from '@material-ui/core/styles';\nimport Header from '../../components/Header';\nimport Loading from '../../components/Loading';\nimport Storage from '../../utils/storage';\nimport styles from './styles';\n\nconst defaultState = {\n  newsletters: [],\n  selected: [],\n  isCheckedAll: false,\n  loading: false\n};\n\nclass Newsletters extends PureComponent {\n  static propTypes = {\n    classes: PropTypes.object,\n    theme: PropTypes.object,\n    history: PropTypes.object\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = defaultState;\n  }\n\n  async componentDidMount() {\n    this.loadNewsletters();\n  }\n\n  loadNewsletters = async () => {\n    this.setState({ loading: true });\n    try {\n      const newsSelected = await Storage.get('selected');\n      const newsletters = await Storage.get('newsletters');\n      const selected = _.isArray(newsSelected) ? newsSelected : [];\n      const isCheckedAll = _.size(selected) >= _.size(newsletters);\n      this.setState({ newsletters, selected, isCheckedAll, loading: false });\n    } catch (err) {\n      this.setState(defaultState);\n    }\n  }\n\n  onToggleNewsletter = async (newsletterId, isChecked) => {\n    const { newsletters } = this.state;\n    const newsSelected = await Storage.get('selected');\n    let selected = _.isArray(newsSelected) ? newsSelected : [];\n    if (isChecked) {\n      selected.push(newsletterId);\n    } else {\n      selected = _.reject(selected, s => s === newsletterId);\n    }\n    selected = [...new Set(selected)];\n    const isCheckedAll = _.size(selected) >= _.size(newsletters);\n    await Storage.set('selected', selected);\n    this.setState({ selected, isCheckedAll });\n  }\n\n  onToggleAll = async () => {\n    const { isCheckedAll, newsletters } = this.state;\n    const selected = isCheckedAll ? [] : _.map(newsletters, n => n.id);\n    await Storage.set('selected', selected);\n    this.setState({ selected, isCheckedAll: !isCheckedAll });\n  }\n\n  onBackButtonClick = () => {\n    const { history } = this.props;\n    history.push('/');\n  }\n\n  render() {\n    const { classes, theme: { mainColor } } = this.props;\n    const { newsletters, loading, selected, isCheckedAll } = this.state;\n    return (\n      <React.Fragment>\n        <Header title=\"Newsletters\" backButton={this.onBackButtonClick} />\n        <main className={classes.layout}>\n          {\n            loading ?\n              <Loading />\n              :\n              <section>\n                {\n                  _.size(newsletters) ?\n                    <List component=\"nav\">\n                      <ListItem button onClick={() => this.onToggleAll()}>\n                        <ListItemIcon>\n                          <MailIcon fontSize=\"large\" />\n                        </ListItemIcon>\n                        <ListItemText primary=\"Select all\" />\n                        <ListItemSecondaryAction>\n                          <Switch\n                            color={mainColor}\n                            checked={isCheckedAll}\n                            onChange={() => this.onToggleAll()}\n                          />\n                        </ListItemSecondaryAction>\n                      </ListItem>\n                      {\n                        newsletters.map((n) => {\n                          const checked = selected.includes(n.id);\n                          return (\n                            <ListItem\n                              button\n                              key={n.id}\n                              onClick={() => this.onToggleNewsletter(n.id, !checked)}\n                            >\n                              <ListItemIcon>\n                                <img\n                                  src={require(`../../assets/images/icon/${n.id}.png`)}\n                                  width={classes.icon.width}\n                                  height={classes.icon.height}\n                                  className={classes.icon}\n                                  alt={n.name}\n                                />\n                              </ListItemIcon>\n                              <ListItemText primary={n.name} />\n                              <ListItemSecondaryAction>\n                                <Switch\n                                  color={mainColor}\n                                  checked={checked}\n                                  onChange={() => this.onToggleNewsletter(n.id, !checked)}\n                                />\n                              </ListItemSecondaryAction>\n                            </ListItem>\n                          );\n                        })\n                      }\n                    </List>\n                    :\n                    <Grid\n                      container\n                      direction=\"column\"\n                      justify=\"center\"\n                      alignItems=\"center\"\n                      className={classes.empty}\n                    >\n                      <WebIcon fontSize=\"large\" />\n                      <Typography variant=\"h6\">No newsletters in our feed</Typography>\n                    </Grid>\n                }\n              </section>\n          }\n        </main>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default withStyles(styles, { withTheme: true })(Newsletters);\n"],"sourceRoot":""}